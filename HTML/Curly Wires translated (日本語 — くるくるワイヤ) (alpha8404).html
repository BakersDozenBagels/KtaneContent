<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>くるくるワイヤ — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src="js/jquery.3.7.0.min.js"></script>
    <script src="js/ruleseed.js"></script>
    <style>
        .dark table, table {
            margin: 1em auto;
            border: none;
        }

        .fleft {
            float: left;
        }
        
        .fright {
            float: right;
        }
        
        .hsize {
            width: 49%;
        }
        
        .item {
            line-height: 30px;
        }
        
        .dark .hide, .hide {
            border-right: hidden;
        }
        
        .hide-top {
            border-top: hidden;
        }
        
        .tcenter {
            text-align: center;
        }
        
        .size-small {
            width: 10%;
        }
    </style>
    <script>
        function setDefaultRules(rnd){
            var firstTable = document.getElementById("firstTable").children[0];
            var secondTable = document.getElementById("secondTable").children[0];
            var thirdTable = document.getElementById("thirdTable").children[0];
            var firstNumbers = [
                ["3 1 2", "2 1 3", "1 3 2"],
                ["3 2 1", "1 2 3", "2 3 1"],
                ["2 1 3", "3 2 1", "1 2 3"]
            ];
            var secondNumbers = [
                ["1 3 2", "2 1 3", "2 3 1"],
                ["2 1 3", "1 2 3", "3 2 1"],
                ["3 1 2", "3 2 1", "1 3 2"]
            ];
            var thirdNumbers = [
                ["1", "8", "5", "7", "0", "3", "6", "4", "2"],
                ["9", "5", "3", "6", "4", "1", "2", "7", "0"],
                ["4", "3", "8", "2", "9", "6", "0", "1", "5"],
                ["2", "9", "1", "8", "4", "7", "3", "5", "6"],
                ["3", "7", "4", "0", "6", "2", "5", "1", "8"]
            ];
            for(var i = 2; i < 5; i++){
                for(var j = 1; j < 4; j++){
                    firstTable.children[i].children[j].innerHTML = "<b>"+firstNumbers[i - 2][j - 1]+"</b>";
                    secondTable.children[i].children[j].innerHTML = "<b>"+secondNumbers[i - 2][j - 1]+"</b>";
                }
            }
            for(var i = 2; i < 7; i++){
                for(var j = 1; j < 10; j++){
                    thirdTable.children[i].children[j].innerHTML = "<b>"+thirdNumbers[i - 2][j - 1]+"</b>";
                }
            }
        }
        function setRules(rnd){
            var firstTable = document.getElementById("firstTable").children[0];
            var secondTable = document.getElementById("secondTable").children[0];
            var thirdTable = document.getElementById("thirdTable").children[0];
            var order = [1, 2, 3];
            for(var i = 2; i < 5; i++){
                for(var j = 1; j < 4; j++){
                    rnd.shuffleFisherYates(order);
                    firstTable.children[i].children[j].innerHTML = "<b>"+order[0]+" "+order[1]+" "+order[2]+" "+"</b>";
                    rnd.shuffleFisherYates(order);
                    secondTable.children[i].children[j].innerHTML = "<b>"+order[0]+" "+order[1]+" "+order[2]+" "+"</b>";
                }
            }
            for(var i = 2; i < 7; i++){
                for(var j = 1; j < 10; j++){
                    thirdTable.children[i].children[j].innerHTML = "<b>"+rnd.next(0,10)+"</b>";
                }
            }
        }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">くるくるワイヤ</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Curly Wires.svg" class="diagram">
                <h2>モジュール詳細：くるくるワイヤ</h2>
                <p class="flavour-text">いや、全く違う。このワイヤはくるくるだ。</p>
                <ul>
                    <li>3本のワイヤ全てを適切な順序及び適切なタイミングで切る必要がある。</li>
                    <li>まず下の表を使用し、青いワイヤの数と赤いワイヤの位置に基づいて、ワイヤを切る適切な順序を特定する。ワイヤは左から右に番号が付けられている。</li>
                    <li>切るワイヤの色とシリアルナンバーに基づいて、下部の表を使用してワイヤを切るタイミングを特定する。</li>
                </ul>
                <h3>切断順序</h3>
                <div class="fleft hsize">シリアルナンバーに母音が含まれている</div>
                <div class="fright hsize">シリアルナンバーに母音が含まれていない</div>
                <table id="firstTable" class="fleft tcenter">
                    <tr>
                        <td rowspan=2>青いワイヤの本数</td>
                        <td colspan=3>赤いワイヤの位置</td>
                    </tr>
                    <tr class="hide-top">
                        <td class="hide">1番目</td>
                        <td class="hide">2番目</td>
                        <td>3番目</td>
                    <tr class="item">
                        <td>0</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="item">
                        <td>1</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="item">
                        <td>2</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
                <table id="secondTable" class="fright tcenter">
                    <tr>
                        <td rowspan=2>青いワイヤの本数</td>
                        <td colspan=3>赤いワイヤの位置</td>
                    </tr>
                    <tr class="hide-top">
                        <td class="hide">1番目</td>
                        <td class="hide">2番目</td>
                        <td>3番目</td>
                    <tr class="item">
                        <td>0</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="item">
                        <td>1</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="item">
                        <td>2</td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
                <h3>切るタイミング</h3>
                <p>指定された数字がカウントダウンタイマーのいずれかの桁に含まれているときに各ワイヤを切る。</p>
                <table id="thirdTable" class="tcenter">
                    <tr>
                        <td rowspan=2>ワイヤ<br>の色</td>
                        <td colspan=9>シリアルナンバーの最初の英字</td>
                    </tr>
                    <tr class="hide-top">
                        <td class="hide size-small">A B C</td>
                        <td class="hide size-small">D E</td>
                        <td class="hide size-small">F G H</td>
                        <td class="hide size-small">I J K</td>
                        <td class="hide size-small">L M N</td>
                        <td class="hide size-small">P Q R</td>
                        <td class="hide size-small">S T U</td>
                        <td class="hide size-small">V W</td>
                        <td class="size-small">X Z</td>
                    </tr>
                    <tr class="item">
                        <td>赤</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="item">
                        <td>青</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="item">
                        <td>緑</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="item">
                        <td>白</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr class="item">
                        <td>黒</td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">ページ 1/1</div>
        </div>
    </div>
</body>
</html>