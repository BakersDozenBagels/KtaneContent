<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>ホワイトホール — Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/font-japanese.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        function setRules(rnd)
        {
            // Add extra randomness
            for (var i = rnd.next(0, 10); i > 0; i--)
                rnd.nextDouble();

            var dots2 = 'M45 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';
            var dots3 = 'M35 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';
            var dots4 = 'M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';

            var alternative = [
                { dots: dots4, gest: 'M30 70v10h20V70M70 70v10' },  // • └─•─┘ • | •
                { dots: dots3, gest: 'M40 70v10h20V70' },           // • └─•─┘ •
            ];
            var pool = rnd.shuffleArray([
                { dots: dots3, gest: 'M40 70v10m20-10v10' },                    // • | • | •
                { dots: dots4, gest: 'M52.5 70v10H70V70m-40 0v10h17.5V70' },    // • └─•─┘└─•─┘ •
                { dots: dots4, gest: 'M30 70v10M50 70v10h20V70' },              // • | •  └─•─┘ •
                { dots: dots4, gest: 'M30 70v10h40V70' },                       // • └─•──•─┘ •
                alternative [ rnd.next(0, alternative.length) ],
                { dots: dots4, gest: 'M30 70v10M70 70v10' },                    // • | •   • | •
            ]);

            var c = [
                { dots: dots3, gest: 'M37.5 70v10h20V70M62.5 70v10' },          // • └─•─┘| •
                { dots: dots2, gest: 'M47.5 70v10M52.5 70v10' },                // • || •
                { dots: dots3, gest: 'M37.5 70v10M42.5 70v10h20V70' },          // • |└─•─┘ •
            ][ rnd.next(0, 3) ];

            console.log(rnd.count);

            var arr = [
            "1つ目の数字がx座標となり、2つ目の数字がy座標",
                "2つ目の数字がx座標となり、1つ目の数字がy座標",
                "6文字目の数字の値がx座標となり、3文字目の数字の値がy座標",
                "3文字目の数字の値がx座標となり、6文字目の数字の値がy座標",
                "1つ目の数字がx座標となり、最後の数字がy座標",
                "最後の数字がx座標となり、1つ目の数字がy座標",
            ];
            var elem = arr[rnd.next(0, arr.length)];

            var directions = [ "東", "南", "西", "北" ];
            rnd.next(0, 4);
            rnd.next(0, 2);

            var rotations = [ "反時計周り", "時計周り" ];
            var rotation2 = rotations [ rnd.next(0, 2) ];

            var widgets = [ "バッテリーとポート", "バッテリーとインジケーター", "バッテリーホルダーとポート", "バッテリーホルダーとインジケーター", "ポートとインジケーター", "ポート", "インジケーター", "バッテリー", "バッテリーホルダー" ];
            document.getElementById('link-1').href = `Black Hole translated (日本語 — ブラックホール) (tchen).html#${rnd.seed}`;

            var dirs = ["右", "上", "左", "下"];
            var rots = ["時計周り", "反時計回り"];

            rnd.next(0,9);

            document.getElementById('seeded-dir').innerText = dirs [ rnd.next(0, dirs.length) ];
            document.getElementById('seeded-rot').innerText = rots [ rnd.next(0, rots.length) ];
        }

        function setDefaultRules(rnd) { setRules(rnd); }
    </script>
    <style>
        ul {
            padding-left: 1em;
        }

        li {
            margin: .8em 0;
        }

        .dark table, table {
            border: none;
        }

        table.grid {
            margin: 3em auto 0;
            font-size: 14pt;
        }

        table.grid col {
            width: 1.2cm;
        }

        table.grid td {
            text-align: center;
        }

        table.grid tr {
            height: 1.2cm;
        }

        .ruleseed-active .seedable {
            font-weight: bold;
            text-decoration: underline;
        }

        span.footnote-marker {
            vertical-align: super;
            font-size: 70%;
        }
        p.footnote {
            font-size: 70%;
        }
        div.footnotes {
            position: relative;
            margin-top: 2em;
            padding-top: 1em;
        }
        div.footnotes:before {
            border-top: 1px solid black;
            left: 0;
            top: 0;
            position: absolute;
            width: 50mm;
            content: '';
        }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ホワイトホール</span>
            </div>
            <div class="page-content">
                <img src="img/Component/White Hole.svg" class="diagram">
                <h2>モジュール詳細：ホワイトホール</h2>
                <p class="flavour-text">10万マイルを超えたようだ。<br>だが、私は静寂を感じたままだ。</p>
                <ul>
                    <li>各「ホワイトホール」モジュールは<a id="link-1" href='Black Hole translated (日本語 — ブラックホール) (tchen).html'>「ブラックホール(Black Hole)」</a>モジュールとリンクしている。各「ホワイトホール」とリンクする「ブラックホール」が足りない場合、いくつかの「ホワイトホール」モジュールは、リンクされない状態のままになる。</li>
                    <li>ある数字が「ホワイトホール」とリンクしている「ブラックホール」に投げ込まれるたびに、その数字はリンクしている「ホワイトホール」から出てくる。</li>
                    <li>「ホワイトホール」上である方向を選択し、次の数字をその方向に送信する。それ以外の方向に数字を送ったり、どの方向も指定しなかったりすると、「ホワイトホール」にミスが記録される。選択した方向を入力後に変更することはできない。ミスが記録された「ホワイトホール」がリンクされていない場合は、通常通り次の数字の入力に進む。</li>
                    <li>リンクされた「ホワイトホール」を解除するには、最後の方向を入力した後にホール自体を選択するだけでよい。注：早すぎるとミスが記録される。</li>
                    <li>「C」のジェスチャーで得られる数字は、このモジュールでは絶対にカウントされないことに注意すること。ただし、リンク状態の識別には役立つだろう。</li>
                    <li>リンクされていない「ホワイトホール」は、リンクされているものと動作が異なる。数字を出てこさせるには、ホール自体を選択する。数字の順番は、「ブラックホール」と同じスタート位置、同じグリッド、同じ開始方向を取得し、<strong>回転方向を反転させる</strong>ことで求める。</li>
                    <li>さらに、リンクされていない「ホワイトホール」は互いに同じシーケンスを共有し、断続的なモジュール解除によってコードを短くすることができる。</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">ページ 1/2</div>
        </div>
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">ホワイトホール</span>
            </div>
            <div class="page-content">
                <ul>
                    <li>下の表において、列はホワイトホールから出てくる数字、段は数字を取得した方向である。</li>
                    <li>これらを使用して、以下の表から正しい方向を求める。</li>
                    <li>方向はモジュールの<span class='seedable' id='seeded-dir'>下</span>から<span class='seedable' id='seeded-rot'>反時計回り</span>に進んで数えていく。</li>
                </ul>
                <table class='grid'>
                    <colgroup><col><col><col><col><col><col></colgroup>
                    <tr><th style="border: none;"></th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th></tr>
                    <tr><td>&rArr;</td><td>8</td><td>5</td><td>2</td><td>6</td><td>1</td></tr>
                    <tr><td>&neArr;</td><td>2</td><td>2</td><td>3</td><td>2</td><td>4</td></tr>
                    <tr><td>&uArr;</td><td>1</td><td>8</td><td>7</td><td>8</td><td>2</td></tr>
                    <tr><td>&nwArr;</td><td>3</td><td>6</td><td>1</td><td>5</td><td>6</td></tr>
                    <tr><td>&lArr;</td><td>6</td><td>3</td><td>5</td><td>1</td><td>5</td></tr>
                    <tr><td>&swArr;</td><td>4</td><td>1</td><td>8</td><td>7</td><td>3</td></tr>
                    <tr><td>&dArr;</td><td>5</td><td>7</td><td>6</td><td>4</td><td>8</td></tr>
                    <tr><td>&seArr;</td><td>7</td><td>4</td><td>4</td><td>3</td><td>7</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">ページ 2/2</div>
        </div>
    </div>
</body>
</html>