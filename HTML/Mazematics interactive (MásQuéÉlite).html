<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Mazematics â€” Keep Talking and Nobody Explodes Module</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <script src="js/ktane-utils.js"></script>
    <style>
        ul.no-bullets {
            list-style: none;
        }
        .svg-cell {
            padding: 0;
            text-align: center;
            font-size: 3em;
            user-select: none;
        }
        #inputs {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            row-gap: 10px;
            margin-left: -20px;
        }
            #input-row {
                display: flex;
                flex-direction: row;
                justify-content: space-between;
            }
        input {
            width: 25%;
            text-align: center;
            -moz-appearance: textfield;
        }
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
          -webkit-appearance: none;
        }
        .pair {
            display: inline-flex;
            justify-content: space-evenly;
        }
            .small {
                transform: scale(0.4);
                stroke-width: 5px;
            }
            .small-star {
                transform: scale(0.45);
                stroke-width: 4px;
            }
            .small-triangle {
                transform: scale(0.4);
                stroke-width: 5px;
            }
            .small-diamond {
                stroke-width: 5px;
            }
        button {
            background-color: #c0c0c0;
            font-family: "Special Elite", "Comic Sans MS";
            font-size: 20px;
            font-weight: bold;
            padding: 10px 10px 0px 10px;
            border: none;
            border-bottom: 3px black dashed;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
        .dark svg path, .dark svg rect, .dark svg polygon, .dark svg circle {
            stroke: #DDD;
            fill: transparent;
        }
        .dark svg text { fill: #DDD; }
    </style>
</head>
<body>
    <div class="section">
        <div class="page page-bg-01">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Mazematics</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Mazematics.svg" class="diagram">
                <h2>On the Subject of Mazematics</h2>
                <p class="flavour-text">Wax lyrical about mazes mathematical.</p>

                <ul>
                    <li>To solve the module, you must modify your <b><u>current value</u></b> to be equal to the <b><u>goal value</u></b>.</li>
                    <li>Modify your <b><u>current value</u></b> by navigating the maze, moving from cell to adjacent cell. Each cell will add to or subtract from your <b><u>current value</u></b>.</li>
                    <li>You must avoid having your <b><u>current value</u></b> be equal to one of a selection of <b><u>restricted values</u></b>, based on the restriction clause found on page 2.</li>
                </ul>

                <h3>Activating The Module</h3>
                <ul class="no-bullets">
                    <li>Before any interaction occurs, the module displays your <b><u>initial value</u></b>. <b>Click the central screen to begin.</b></li>
                    <li>Once active, the screen begins to cycle through eight images of shapes, and two numeric values. (Activating the module also <b>selects a random maze coordinate</b> - see the next section for details.)</li>
                    <li>The value of each shape is equal to <b>the last digit of the timer at the time it is being displayed</b> (excluding decimal places). These values will help you navigate the maze.</li>
                    <li>The numeric value displayed when <b>the last digit of the timer is a 0</b> is the <b><u>goal value</u></b>. A value displayed at any other time is the <b><u>current value</u></b>.</li>
                </ul>

                <h3>Navigating The Maze</h3>
                <ul class="no-bullets">
                    <li>Each cell of the maze has a numeric value from 1-9 and a positive or negative designation, depending on the <b>shape and sign</b> contained within.</li>
                    <li>A starting coordinate for the maze is not chosen <b>until the module is activated.</b> At the moment of activation, a starting maze coordinate is randomly selected. <b>A value from 1-9 is added to or subtracted from the <u>initial value</u></b>, as determined by the shape and sign of the cell at the starting coordinate.</li>
                    <li>From this point on, the maze can be manually navigated using the arrow buttons on the module. Each time a move is made to a new maze cell, <b>the value of the new cell</b> is again added or subtracted from the <b><u>current value</u></b>.</li>
                    <li>The maze is <b>contiguous with itself</b>; as such, it is possible to move from one edge of the maze to the other as though wrapping around from edge to edge.</li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 1 of 3</div>
        </div>
        <div class="page page-bg-02">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                <span class="page-header-section-title">Mazematics</span>
            </div>
            <div class="page-content">
                <ul class="no-bullets">
                    <li><b>The module can be reset at any time, without penalty, by clicking the screen.</b> This reverts the module to the pre-activated state, as though it had never been interacted with: the <b><u>current value</u></b> is reset to the <b><u>initial value</u></b>; the module screen must be clicked to activate it; activating will reselect the same starting coordinate in the maze.</li>
                </ul>

                <h3>Striking And Solving</h3>
                A strike will be incurred if:
                <ul>
                    <li>a move causes the <b><u>current value</u></b> to be equal to a restricted value. Note: this move <b>is still valid</b> - the <b><u>current value</u></b> and maze coordinate <b>will change</b>.</li>
                    <li>an attempted move would cause the <b><u>current value</u></b> to become negative or exceed 49. Note: this move <b>is not valid</b> - the <b><u>current value</u></b> and maze coordinate <b>will not change</b>.</li>
                </ul>
                Exceptionally, a strike will not be incurred if:
                <ul>
                    <li>The <b>first move</b> causes the <b><u>current value</u></b> to be equal to a restricted value. The first move made after activation (either initially or after resetting the module) is always safe.</li>
                    <li>The <b><u>current value</u></b> becomes equal to a restricted value, which is also the <b><u>goal value</u></b>. It is possible for the <b><u>goal value</u></b> to be equal to a restricted value, effectively removing the restriction on this value.</li>
                </ul>

                The module is solved once a move causes the <b><u>current value</u></b> to be equal to the <b><u>goal value</u></b>, any time <b>after the first directional move</b>. If the <b><u>goal value</u></b> is reached after a single move, the module will not solve (nor will it strike). Attempting to interact with the module after it is solved will not incur strikes.
                <h3>Restriction Clause</h3>
                Read top-down, and consider only the values associated with the first true condition met:

                <table>
                    <tr>
                        <th>Condition</th>
                        <th>Restricted Values (see Appendix)</th>
                    </tr>
                    <tr>
                        <td>The shape found at the starting maze coordinate has four vertices</td>
                        <td>
                            Triangular numbers<b>*</b>
                        </td>
                    </tr>
                    <tr>
                        <td>The <b><u>initial value</u></b> before activation is a multiple of 3</td>
                        <td>Multiples of 7</td>
                    </tr>
                    <tr>
                        <td>The starting maze coordinate is positive (contains a + sign)</td>
                        <td>Prime numbers<b>**</b></td>
                    </tr>
                    <tr>
                        <td>The previous conditions are not true</td>
                        <td>Values in the Fibonacci sequence<b>***</b></td>
                    </tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Page 2 of 3</div>
        </div>
        <div class="page page-bg-03">
                <div class="page-header">
                    <span class="page-header-doc-title">Keep Talking and Nobody Explodes Mod</span>
                    <span class="page-header-section-title">Mazematics</span>
                </div>
                <div class="page-content">

                    <div id="inputs">
                        <div id="button-row"><button onclick="buttonHandler()">Reset</button></div>
                        <div id="input-row">
                            <div class="pair"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><polygon class="small" points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/></svg><input type="number" /></div>
                            <div class="pair"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><polygon class="small-star" points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px"/></svg><input type="number" /></div>
                            <div class="pair"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><polygon class="small-triangle" points="30,54 5,10 55,10" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180)"/></svg><input type="number" /></div>
                            <div class="pair"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><rect    class="small" x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/></svg><input type="number" /></div>
                            <div class="pair"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><circle  class="small" cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /></svg><input type="number" /></div>
                            <div class="pair"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><rect    class="small-diamond" x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 12, 12) scale(0.4)"/></svg><input type="number" /></div>
                            <div class="pair"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><polygon class="small" points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/></svg><input type="number" /></div>
                            <div class="pair"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path    d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="3px" transform="rotate(225, 12, 12) translate(5, 5) scale(0.6)"/></svg><input type="number" /></div>
                        </div>
                    </div>
                    <h3>The Maze</h3>
                    <table>
                        <tr>
                            <td><svg class="svg-cell hexagon" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell star" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px" transform="scale(1.2) translate(-5, -1)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell triangle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180, 30, 29)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell square" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell circle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell diamond" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 30, 30)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell mountain" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell heart" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><path d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="2.5px" transform="rotate(225,30,30) translate(16, 16) scale(1.5)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                        </tr>
                        <tr>
                            <td><svg class="svg-cell mountain" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell heart" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><path d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="2.5px" transform="rotate(225,30,30) translate(16, 16) scale(1.5)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell diamond" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 30, 30)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell circle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell triangle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180, 30, 29)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell square" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell hexagon" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell star" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px" transform="scale(1.2) translate(-5, -1)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                        </tr>
                        <tr>
                            <td><svg class="svg-cell star" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px" transform="scale(1.2) translate(-5, -1)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell mountain" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell square" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell triangle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180, 30, 29)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell diamond" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 30, 30)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell circle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell heart" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><path d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="2.5px" transform="rotate(225,30,30) translate(16, 16) scale(1.5)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell hexagon" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                        </tr>
                        <tr>
                            <td><svg class="svg-cell heart" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><path d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="2.5px" transform="rotate(225,30,30) translate(16, 16) scale(1.5)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell hexagon" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell circle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell diamond" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 30, 30)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell star" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px" transform="scale(1.2) translate(-5, -1)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell triangle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180, 30, 29)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell square" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell mountain" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                        </tr>
                        <tr>
                            <td><svg class="svg-cell triangle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180, 30, 29)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell square" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell star" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px" transform="scale(1.2) translate(-5, -1)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell heart" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><path d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="2.5px" transform="rotate(225,30,30) translate(16, 16) scale(1.5)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell mountain" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell hexagon" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell diamond" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 30, 30)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell circle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                        </tr>
                        <tr>
                            <td><svg class="svg-cell diamond" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 30, 30)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell circle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell hexagon" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell mountain" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell heart" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><path d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="2.5px" transform="rotate(225,30,30) translate(16, 16) scale(1.5)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell star" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px" transform="scale(1.2) translate(-5, -1)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell triangle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180, 30, 29)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell square" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                        </tr>
                        <tr>
                            <td><svg class="svg-cell circle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell diamond" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 30, 30)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell heart" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><path d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="2.5px" transform="rotate(225,30,30) translate(16, 16) scale(1.5)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell hexagon" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell square" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell mountain" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell star" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px" transform="scale(1.2) translate(-5, -1)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell triangle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180, 30, 29)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                        </tr>
                        <tr>
                            <td><svg class="svg-cell square" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="6" y="6" width="48" height="47" fill="white" stroke="black" stroke-width="3.5"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell triangle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px" transform="rotate(180, 30, 29)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell mountain" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30,6 5,50 55,50" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell star" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5, 35 20, 50 20, 38 30, 44 45, 30 35, 16 45, 22 30, 10 20, 25 20" fill="white" stroke="black" stroke-width="3px" transform="scale(1.2) translate(-5, -1)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell hexagon" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><polygon points="30 5,50 17,50 43,30 53,10 43,10 17" fill="white" stroke="black" stroke-width="3.5px"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell heart" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><path d="M0 20 v-20 h20 a10,10 0 0,1 0,20 a10,10 0 0,1 -20,0 z" fill="white" stroke="black" stroke-width="2.5px" transform="rotate(225,30,30) translate(16, 16) scale(1.5)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">-</text></svg></td>
                            <td><svg class="svg-cell circle" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><circle cx="30" cy="28" r="25" fill="white" stroke="black" stroke-width="3.5" /><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                            <td><svg class="svg-cell diamond" width="60" height="55" xmlns="http://www.w3.org/2000/svg"><rect x="11" y="11" width="35" height="35" fill="white" stroke="black" stroke-width="3.5" transform="rotate(45, 30, 30)"/><text text-anchor="middle" x="30" y="45" font-weight="bold">+</text></svg></td>
                </table>
                <h3>Appendix</h3>

                <p>Below are explanations of some number sequences as found in the restriction clause:</p>

                <ul class="no-bullets">
                    <li><b>*</b> Each pair of terms in the <b>Triangular number sequence</b> has a difference <b>one greater</b> than the previous pair. <b>1, 3, 6, 10...</b></li>
                    <li><b>**</b> 1 is not considered prime.</li>
                    <li><b>***</b> Each term in the <b>Fibonacci sequence</b> is equal to the total of the previous two. 0 is sometimes included in the Fibonacci sequence, but is omitted in this instance. <b>1, 1, 2, 3, 5...</b></li>
                </ul>
            </div>
            <div class="page-footer relative-footer">Page 3 of 3</div>
        </div>
    </div>

    <script>
        function makeNumber(value) { //creates the character on the right
            number = shapeRefs[0].cloneNode();
            number.setAttribute('text-anchor', 'middle');
            number.setAttribute('x', '45');
            number.setAttribute('y', '45');
            number.setAttribute('font-weight', 'bold');
            number.previousElementSibling = "text";
            number.previousSibling = "text";
            number.innerHTML = value;
            return number;
        }
        function putNumber(where, number, condition) { //sets the number and the sign to their position
            where.childNodes[condition ? 1 : 0].remove();
            where.childNodes[0].setAttribute('x','15');
            where.appendChild(makeNumber(number));
        }

        function chooseShape(index) {
            return shapeRefs[index+1].cloneNode();
        }

        function numberMode() { //checks whether it's number mode or not
            return empty.filter(x => x).length > 0;
        }

        function fillEmpty() { //fills numberless cells with '?' when it's number mode
            inputArr = Array.from(inputs);
            for (let i = 0; i < 8; i++)
                if (inputArr[i].value == "")
                    Array.from(document.getElementsByClassName(shapes[i])).forEach(cell => {
                        putNumber(cell, '?', empty[i]);
                });
        }

        function resetShapes() { //takes all to the original state (shape mode)
            for (let i = 0; i < 8; i++)
                Array.from(document.getElementsByClassName(shapes[i])).forEach(cell => {
                    cell.childNodes[1].remove();
                    cell.childNodes[0].setAttribute('x','30');
                    cell.insertBefore(chooseShape(i), cell.childNodes[0]);
                });
        }

        function alterSVG(index) { //its purpose is only for number mode, duh.
            shapesArr = Array.from(document.getElementsByClassName(shapes[index]));
            if (event.data)
                for (let i = 0; i < 8; i++)
                    putNumber(shapesArr[i], event.data, !shapeMode);
            else
                for (let i = 0; i < 8; i++)
                    shapesArr[i].childNodes[1].innerHTML = '?';
        }

        function differentNumbers(inputted) { //checks if all numbers are different
            return !empty.filter(n => n >= '1' && n <= '9').some(number => number == inputted);
        }

        function forbiddenKeys(key) { //if you touch these you die.
            return [38, 40, 48, 69, 89, 96, 107, 109, 110, 187, 188, 189, 190].find(x => x == key);
        }

        function buttonHandler() {
            if (!shapeMode)
            {
                resetShapes();
                Array.from(inputs, input => input.value = "");
                empty = ["", "", "", "", "", "", "", ""];
                shapeMode = true;
            }
        }

        const shapes = ["hexagon", "star", "triangle", "square", "circle", "diamond", "mountain", "heart"];
        shapeMode = true;

        let shapeRefs = [document.getElementsByClassName("svg-cell")[0].childNodes[1]]; //1st is text, then shapes
        shapes.forEach(shape => { shapeRefs.push(document.getElementsByClassName(shape)[0].childNodes[0]) });

        let inputs = document.getElementsByTagName("input");
        let empty = ["", "", "", "", "", "", "", ""];

        for (let i = 0; i < 8; i++) {
            let prevented;
            inputs[i].addEventListener('keydown', e => {
                prevented = false;
                if ((forbiddenKeys(e.which)) || !differentNumbers(e.key)) {
                    e.preventDefault(); //if the key pressed is forbidden, or the number
                    prevented = true;   //is already in any of the cells, then prevent
                }
            });
            inputs[i].addEventListener("input", (event) => { //listens for inputEvent and edits the cells accordingly
                if (!prevented)
                {
                    inputs[i].value = event.data;
                    empty[i] = inputs[i].value;
                    alterSVG(i);

                    if (shapeMode == numberMode()) { //checks if numberMode is no longer numberMode
                        shapeMode = !numberMode();   //or vice versa, and makes the respective changes
                        if (!shapeMode) fillEmpty();
                        else resetShapes();
                    }
                }
            });
        }
    </script>
</body>
</html>