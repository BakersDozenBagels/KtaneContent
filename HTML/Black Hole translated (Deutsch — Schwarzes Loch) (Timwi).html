<!DOCTYPE html>
<html lang='de'>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1">
    <title>Schwarzes Loch — Keep Talking and Nobody Explodes-Modul</title>
    <link rel="stylesheet" type="text/css" href="css/font.css">
    <link rel="stylesheet" type="text/css" href="css/normalize.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/Modules/Black Hole.css">
    <script src="js/ktane-utils.js"></script>
    <script src='js/ruleseed.js'></script>
    <script>
        function setRules(rnd)
        {
            // Add extra randomness
            for (var i = rnd.next(0, 10); i > 0; i--)
                rnd.nextDouble();

            var dots2 = 'M45 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';
            var dots3 = 'M35 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';
            var dots4 = 'M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z';

            var alternative = [
                { dots: dots4, gest: 'M30 70v10h20V70M70 70v10' },  // • └─•─┘ • | •
                { dots: dots3, gest: 'M40 70v10h20V70' },           // • └─•─┘ •
            ];
            var pool = rnd.shuffleArray([
                { dots: dots3, gest: 'M40 70v10m20-10v10' },                    // • | • | •
                { dots: dots4, gest: 'M52.5 70v10H70V70m-40 0v10h17.5V70' },    // • └─•─┘└─•─┘ •
                { dots: dots4, gest: 'M30 70v10M50 70v10h20V70' },              // • | •  └─•─┘ •
                { dots: dots4, gest: 'M30 70v10h40V70' },                       // • └─•──•─┘ •
                alternative [ rnd.next(0, alternative.length) ],
                { dots: dots4, gest: 'M30 70v10M70 70v10' },                    // • | •   • | •
            ]);

            for (var i = 0; i < 5; i++) {
                document.getElementById(`dots-${i}`).setAttribute('d', pool[i].dots);
                document.getElementById(`gest-${i}`).setAttribute('d', pool[i].gest);
            }

            var c = [
                { dots: dots3, gest: 'M37.5 70v10h20V70M62.5 70v10' },          // • └─•─┘| •
                { dots: dots2, gest: 'M47.5 70v10M52.5 70v10' },                // • || •
                { dots: dots3, gest: 'M37.5 70v10M42.5 70v10h20V70' },          // • |└─•─┘ •
            ][ rnd.next(0, 3) ];
            document.getElementById('dots-C').setAttribute('d', c.dots);
            document.getElementById('gest-C').setAttribute('d', c.gest);

            var arr = [
                "Die erste Ziffer ist die X-Koordinate, die zweite die Y-Koordinate.",
                "Die zweite Ziffer ist die X-Koordinate, die erste die Y-Koordinate.",
                "Das sechste Zeichen ist die X-Koordinate, das dritte die Y-Koordinate.",
                "Das dritte Zeichen ist die X-Koordinate, das sechste die Y-Koordinate.",
                "Die erste Ziffer ist die X-Koordinate, die letzte die Y-Koordinate.",
                "Die letzte Ziffer ist die X-Koordinate, die erste die Y-Koordinate.",
            ];
            var elem = arr[rnd.next(0, arr.length)];
            document.getElementById('sn-coords').innerText = elem;

            var directions = [ "Osten", "Süden", "Westen", "Norden" ];
            document.getElementById('initial-direction').innerText = directions [ rnd.next(0, 4) ];

            var rotations = [ "gegen den Uhrzeigersinn", "im Uhrzeigersinn" ];
            document.getElementById('initial-rotation').innerText = rotations [ rnd.next(0, 2) ];
            var rotation2 = rotations [ rnd.next(0, 2) ];
            document.getElementById('rotation-1').innerText = rotation2;
            document.getElementById('rotation-2').innerText = rotation2;

            var widgets = [ "Batterie und Anschluss", "Batterie und Indikator", "Batteriefach und Anschluss", "Batteriefach und Indikator", "Anschluss und Indikator", "Anschluss", "Indikator", "Batterie", "Batteriefach" ];
            document.getElementById('rot-widget').innerText = widgets [ rnd.next(0, widgets.length) ];
        }

        function setDefaultRules(rnd) { setRules(rnd); }
    </script>
</head>
<body>
    <div class="section">
        <div class="page page-bg-03">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes-Modul</span>
                <span class="page-header-section-title">Schwarzes Loch</span>
            </div>
            <div class="page-content">
                <img src="img/Component/Black Hole.svg" class="diagram">
                <h2>Betrifft: Schwarze Löcher</h2>
                <p class="flavour-text">Hallo, Major Tom, können Sie hören?</p>
                <ul>
                    <li>Zum Entschärfen aller Schwarzen Löcher auf einer Bombe ist ein Code aus Ziffern 0–4 erforderlich. Die Länge des Codes ist 7 mal die Anzahl der Schwarzen Löcher auf der gleichen Bombe. Zu jeder Zeit kann die nächste Ziffer des Code in ein beliebiges ungelöstes Schwarzes Loch eingegeben werden.</li>
                    <li>Wird nach Eingabe einer Ziffer ein anderes Modul entschärft, wird der Code um zwei Ziffern verkürzt, außer wenn durch die Ziffer ein Schwarzes Loch entschärft wurde. Der Code für ein Schwarzes Loch kann also von 7 auf 3 Ziffern (für zwei Schwarze Löcher von 14 auf 6 Ziffern, usw.) reduziert werden, indem zwischen den Ziffern jeweils ein Modul entschärft wird.</li>
                    <li>Auf der nächsten Seite findet sich ein 10×10-Raster. Die Startposition in diesem Raster bestimmt sich aus der Seriennummer. <span class='seedable' id='sn-coords'>Das dritte Zeichen ist die X-Koordinate, das sechste die Y-Koordinate.</span> Spalten und Reihen werden von links nach rechts/oben nach unten von 0 gezählt. Die erste Ziffer ist hier.</li>
                    <li>Die anfängliche Bewegungsrichtung ist vom <span class='seedable' id='initial-direction'>Norden</span> 45° <span class='seedable' id='initial-rotation'>im Uhrzeigersinn</span> pro <span class='seedable' id='rot-widget'>Anschluss</span> auf der Bombe.</li>
                    <li>Nach der ersten Ziffer muss ein Feld in die aktuelle Richtung geschritten und die Richtung danach um 45° <span class='seedable' id='rotation-1'>im Uhrzeigersinn</span> rotiert werden.</li>
                    <li>Die nächste Ziffer ist die Summe, <em>modulo 5</em><span class='footnote-marker'>*</span>, der aufeinander folgenden Felder in der aktuellen Richtung. Nach der Bestimmung der zwei Ziffern muss ein Feld dahinter geschritten und erneut 45° <span class='seedable' id='rotation-2'>im Uhrzeigersinn</span> rotiert werden.</li>
                    <li>Für jede nachfolgende Ziffer ist ähnlich fortzufahren, jedes Mal mit einem Feld mehr als zuvor. Die <var>n</var>-te Ziffer des Codes ist die Summe (modulo 5<span class='footnote-marker'>*</span>) der <var>n</var> aufeinander folgenden Felder.</li>
                    <li>Am Rand des Rasters muss zum gegenüber liegenden Rand gesprungen werden.</li>
                    <li>Die nächste Seite enthält Erklärungen der Eingabegesten für die Ziffern.</li>
                    <li>Mit der “C”-Geste kann bestimmt werden, wie viele korrekte Ziffern bereits eingegeben wurden.</li>
                </ul>
                <div class='footnotes'>
                    <p class='footnote'><sup>*</sup> „Modulo 5“: 5 addieren/subtrahieren, bis die Zahl im Bereich 0–4 ist.</p>
                </div>
            </div>
            <div class="page-footer relative-footer">Seite 1 von 2</div>
        </div>
        <div class="page page-bg-04">
            <div class="page-header">
                <span class="page-header-doc-title">Keep Talking and Nobody Explodes-Modul</span>
                <span class="page-header-section-title">Schwarzes Loch</span>
            </div>
            <div class="page-content">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox='-2 -2 604 94' font-size="28" font-family="Special Elite" text-anchor="middle">
                    <!-- frame -->
                    <path fill="none" stroke="#000" stroke-width="2" d="M0 40h600v50H0zm100 0v50m100-50v50m100-50v50m100-50v50m100-50v50" />

                    <!-- 0 --> <path id='dots-0' class="dots" transform='translate(000, 0)' d="M35 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 0 --> <path id='gest-0' transform='translate(000, 0)' fill="none" stroke="#000" d="M40 70v10h20V70" />
                    <!-- 1 --> <path id='dots-1' class="dots" transform='translate(100, 0)' d="M35 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 1 --> <path id='gest-1' transform='translate(100, 0)' fill="none" stroke="#000" d="M40 70v10m20-10v10" />
                    <!-- 2 --> <path id='dots-2' class="dots" transform='translate(200, 0)' d="M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 2 --> <path id='gest-2' transform='translate(200, 0)' fill="none" stroke="#000" d="M30 70v10M50 70v10h20V70" />
                    <!-- 3 --> <path id='dots-3' class="dots" transform='translate(300, 0)' d="M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 3 --> <path id='gest-3' transform='translate(300, 0)' fill="none" stroke="#000" d="M52.5 70v10H70V70m-40 0v10h17.5V70" />
                    <!-- 4 --> <path id='dots-4' class="dots" transform='translate(400, 0)' d="M25 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- 4 --> <path id='gest-4' transform='translate(400, 0)' fill="none" stroke="#000" d="M30 70v10h40V70" />
                    <!-- C --> <path id='dots-C' class="dots" transform='translate(500, 0)' d="M45 55a5 5 0 1 1-10 0 5 5 0 0 1 10 0zm20 0a5 5 0 1 1-10 0 5 5 0 0 1 10 0z" />
                    <!-- C --> <path id='gest-C' transform='translate(500, 0)' fill="none" stroke="#000" d="M47.5 70v10M52.5 70v10" />

                    <text x="50" y="30"><tspan x="50" y="30" fill="#000" stroke="none">0</tspan></text>
                    <text x="250" y="30"><tspan x="250" y="30" fill="#000" stroke="none">2</tspan></text>
                    <text x="150" y="30"><tspan x="150" y="30" fill="#000" stroke="none">1</tspan></text>
                    <text x="350" y="30"><tspan x="350" y="30" fill="#000" stroke="none">3</tspan></text>
                    <text x="450" y="30"><tspan x="450" y="30" fill="#000" stroke="none">4</tspan></text>
                    <text x="550" y="30"><tspan x="550" y="30" fill="#000" stroke="none">C</tspan></text>
                </svg>
                <ul>
                    <li>Im oben stehenden Diagramm steht, von links nach rechts gelesen, ein Punkt für einen Countdown-Timer-Tick (d.h. wenn der Sekundenwert sich ändert).</li>
                    <li>Eine senkrechte Linie steht für eine kurze Berührung des Moduls. Dabei muss die Berührung <em>vollständig</em> zwischen zwei Timer-Ticks liegen.</li>
                    <li>Eine Klammer repräsentiert ein über einen oder mehrere Ticks hinweg andauerndes Gedrückthalten des Moduls.</li>
                </ul>
                <table class='grid'>
                    <colgroup><col><col><col><col><col><col><col><col><col><col></colgroup>
                    <tr><td>3</td><td>4</td><td>1</td><td>0</td><td>2</td><td>3</td><td>1</td><td>2</td><td>0</td><td>4</td></tr>
                    <tr><td>1</td><td>3</td><td>0</td><td>2</td><td>4</td><td>1</td><td>2</td><td>3</td><td>4</td><td>0</td></tr>
                    <tr><td>3</td><td>2</td><td>4</td><td>2</td><td>1</td><td>3</td><td>0</td><td>0</td><td>1</td><td>4</td></tr>
                    <tr><td>4</td><td>0</td><td>0</td><td>1</td><td>3</td><td>4</td><td>2</td><td>2</td><td>1</td><td>3</td></tr>
                    <tr><td>1</td><td>2</td><td>1</td><td>3</td><td>0</td><td>0</td><td>4</td><td>3</td><td>4</td><td>2</td></tr>
                    <tr><td>4</td><td>0</td><td>2</td><td>3</td><td>4</td><td>1</td><td>3</td><td>0</td><td>2</td><td>1</td></tr>
                    <tr><td>2</td><td>1</td><td>3</td><td>1</td><td>3</td><td>0</td><td>4</td><td>4</td><td>0</td><td>2</td></tr>
                    <tr><td>2</td><td>4</td><td>4</td><td>0</td><td>0</td><td>2</td><td>1</td><td>1</td><td>3</td><td>3</td></tr>
                    <tr><td>0</td><td>1</td><td>3</td><td>4</td><td>2</td><td>2</td><td>0</td><td>4</td><td>3</td><td>1</td></tr>
                    <tr><td>0</td><td>3</td><td>2</td><td>4</td><td>1</td><td>4</td><td>3</td><td>1</td><td>2</td><td>0</td></tr>
                </table>
            </div>
            <div class="page-footer relative-footer">Seite 2 von 2</div>
        </div>
    </div>
</body>
</html>